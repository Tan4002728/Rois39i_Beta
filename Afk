local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local VirtualUser = game:GetService('VirtualUser')

local Player = Players.LocalPlayer
local AFKEnabled = false
local MaxAFKTime = 180
local LastActivity = os.time()
local Moving = false
local AFKConnection
local CurrentMethod = "Hybrid"
local InfoVisible = false

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AntiAFKGui"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder = 999
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 350, 0, 220)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -110)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(70, 130, 200)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

local TitleFrame = Instance.new("Frame")
TitleFrame.Name = "TitleFrame"
TitleFrame.Size = UDim2.new(1, 0, 0, 40)
TitleFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
TitleFrame.BorderSizePixel = 0
TitleFrame.Parent = MainFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 10)
TitleCorner.Parent = TitleFrame

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "ANTI-AFK"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleFrame

local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(1, -30, 0, 7)
CloseButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
CloseButton.BorderSizePixel = 0
CloseButton.Text = "√ó"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = TitleFrame

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

local MiniInfoButton = Instance.new("TextButton")
MiniInfoButton.Name = "MiniInfoButton"
MiniInfoButton.Size = UDim2.new(0, 25, 0, 25)
MiniInfoButton.Position = UDim2.new(1, -60, 0, 7)
MiniInfoButton.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
MiniInfoButton.BorderSizePixel = 0
MiniInfoButton.Text = "?"
MiniInfoButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MiniInfoButton.TextSize = 14
MiniInfoButton.Font = Enum.Font.GothamBold
MiniInfoButton.Parent = TitleFrame

local MiniInfoCorner = Instance.new("UICorner")
MiniInfoCorner.CornerRadius = UDim.new(0, 6)
MiniInfoCorner.Parent = MiniInfoButton

local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 1, -50)
ContentFrame.Position = UDim2.new(0, 10, 0, 50)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

local StatusFrame = Instance.new("Frame")
StatusFrame.Name = "StatusFrame"
StatusFrame.Size = UDim2.new(1, 0, 0, 40)
StatusFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
StatusFrame.BorderSizePixel = 0
StatusFrame.Parent = ContentFrame

local StatusCorner = Instance.new("UICorner")
StatusCorner.CornerRadius = UDim.new(0, 8)
StatusCorner.Parent = StatusFrame

local StatusIndicator = Instance.new("Frame")
StatusIndicator.Name = "StatusIndicator"
StatusIndicator.Size = UDim2.new(0, 12, 0, 12)
StatusIndicator.Position = UDim2.new(0, 10, 0.5, -6)
StatusIndicator.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
StatusIndicator.BorderSizePixel = 0
StatusIndicator.Parent = StatusFrame

local StatusCorner2 = Instance.new("UICorner")
StatusCorner2.CornerRadius = UDim.new(1, 0)
StatusCorner2.Parent = StatusIndicator

local StatusText = Instance.new("TextLabel")
StatusText.Name = "StatusText"
StatusText.Size = UDim2.new(1, -40, 1, 0)
StatusText.Position = UDim2.new(0, 30, 0, 0)
StatusText.BackgroundTransparency = 1
StatusText.Text = "TR·∫†NG TH√ÅI: T·∫ÆT"
StatusText.TextColor3 = Color3.fromRGB(255, 255, 255)
StatusText.TextSize = 14
StatusText.Font = Enum.Font.GothamBold
StatusText.TextXAlignment = Enum.TextXAlignment.Left
StatusText.Parent = StatusFrame

local ToggleButton = Instance.new("TextButton")
ToggleButton.Name = "ToggleButton"
ToggleButton.Size = UDim2.new(1, 0, 0, 35)
ToggleButton.Position = UDim2.new(0, 0, 0, 50)
ToggleButton.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
ToggleButton.BorderSizePixel = 0
ToggleButton.Text = "‚ñ∂ B·∫¨T ANTI-AFK"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Parent = ContentFrame

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 8)
ToggleCorner.Parent = ToggleButton

local MethodFrame = Instance.new("Frame")
MethodFrame.Name = "MethodFrame"
MethodFrame.Size = UDim2.new(1, 0, 0, 60)
MethodFrame.Position = UDim2.new(0, 0, 0, 95)
MethodFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
MethodFrame.BorderSizePixel = 0
MethodFrame.Parent = ContentFrame

local MethodCorner = Instance.new("UICorner")
MethodCorner.CornerRadius = UDim.new(0, 8)
MethodCorner.Parent = MethodFrame

local MethodTitle = Instance.new("TextLabel")
MethodTitle.Name = "MethodTitle"
MethodTitle.Size = UDim2.new(1, -20, 0, 20)
MethodTitle.Position = UDim2.new(0, 10, 0, 5)
MethodTitle.BackgroundTransparency = 1
MethodTitle.Text = "PH∆Ø∆†NG PH√ÅP"
MethodTitle.TextColor3 = Color3.fromRGB(200, 200, 220)
MethodTitle.TextSize = 12
MethodTitle.Font = Enum.Font.GothamBold
MethodTitle.TextXAlignment = Enum.TextXAlignment.Left
MethodTitle.Parent = MethodFrame

local HybridButton = Instance.new("TextButton")
HybridButton.Name = "HybridButton"
HybridButton.Size = UDim2.new(0.32, -5, 0, 20)
HybridButton.Position = UDim2.new(0, 10, 0, 30)
HybridButton.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
HybridButton.BorderSizePixel = 0
HybridButton.Text = "Hybrid"
HybridButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HybridButton.TextSize = 11
HybridButton.Font = Enum.Font.GothamBold
HybridButton.Parent = MethodFrame

local HybridCorner = Instance.new("UICorner")
HybridCorner.CornerRadius = UDim.new(0, 4)
HybridCorner.Parent = HybridButton

local NewMethodButton = Instance.new("TextButton")
NewMethodButton.Name = "NewMethodButton"
NewMethodButton.Size = UDim2.new(0.32, -5, 0, 20)
NewMethodButton.Position = UDim2.new(0.34, 5, 0, 30)
NewMethodButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
NewMethodButton.BorderSizePixel = 0
NewMethodButton.Text = "M·ªõi"
NewMethodButton.TextColor3 = Color3.fromRGB(220, 220, 240)
NewMethodButton.TextSize = 11
NewMethodButton.Font = Enum.Font.GothamBold
NewMethodButton.Parent = MethodFrame

local NewMethodCorner = Instance.new("UICorner")
NewMethodCorner.CornerRadius = UDim.new(0, 4)
NewMethodCorner.Parent = NewMethodButton

local OldMethodButton = Instance.new("TextButton")
OldMethodButton.Name = "OldMethodButton"
OldMethodButton.Size = UDim2.new(0.32, -5, 0, 20)
OldMethodButton.Position = UDim2.new(0.68, 0, 0, 30)
OldMethodButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
OldMethodButton.BorderSizePixel = 0
OldMethodButton.Text = "C≈©"
OldMethodButton.TextColor3 = Color3.fromRGB(220, 220, 240)
OldMethodButton.TextSize = 11
OldMethodButton.Font = Enum.Font.GothamBold
OldMethodButton.Parent = MethodFrame

local OldMethodCorner = Instance.new("UICorner")
OldMethodCorner.CornerRadius = UDim.new(0, 4)
OldMethodCorner.Parent = OldMethodButton

local TimeFrame = Instance.new("Frame")
TimeFrame.Name = "TimeFrame"
TimeFrame.Size = UDim2.new(1, 0, 0, 60)
TimeFrame.Position = UDim2.new(0, 0, 0, 165)
TimeFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
TimeFrame.BorderSizePixel = 0
TimeFrame.Parent = ContentFrame

local TimeCorner = Instance.new("UICorner")
TimeCorner.CornerRadius = UDim.new(0, 8)
TimeCorner.Parent = TimeFrame

local TimeTitle = Instance.new("TextLabel")
TimeTitle.Name = "TimeTitle"
TimeTitle.Size = UDim2.new(1, -20, 0, 20)
TimeTitle.Position = UDim2.new(0, 10, 0, 5)
TimeTitle.BackgroundTransparency = 1
TimeTitle.Text = "TH·ªúI GIAN CH·ªú (gi√¢y)"
TimeTitle.TextColor3 = Color3.fromRGB(200, 200, 220)
TimeTitle.TextSize = 12
TimeTitle.Font = Enum.Font.GothamBold
TimeTitle.TextXAlignment = Enum.TextXAlignment.Left
TimeTitle.Parent = TimeFrame

local TimeInput = Instance.new("TextBox")
TimeInput.Name = "TimeInput"
TimeInput.Size = UDim2.new(0.4, -10, 0, 25)
TimeInput.Position = UDim2.new(0.55, 5, 0, 10)
TimeInput.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
TimeInput.BorderSizePixel = 0
TimeInput.Text = tostring(MaxAFKTime)
TimeInput.TextColor3 = Color3.fromRGB(255, 255, 255)
TimeInput.TextSize = 13
TimeInput.Font = Enum.Font.GothamBold
TimeInput.PlaceholderText = "Gi√¢y"
TimeInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
TimeInput.TextScaled = false
TimeInput.ClipsDescendants = true
TimeInput.Parent = TimeFrame

local InputCorner = Instance.new("UICorner")
InputCorner.CornerRadius = UDim.new(0, 4)
InputCorner.Parent = TimeInput

local TimeLabel = Instance.new("TextLabel")
TimeLabel.Name = "TimeLabel"
TimeLabel.Size = UDim2.new(0.5, -20, 0, 25)
TimeLabel.Position = UDim2.new(0, 10, 0, 10)
TimeLabel.BackgroundTransparency = 1
TimeLabel.Text = "K√≠ch ho·∫°t sau:"
TimeLabel.TextColor3 = Color3.fromRGB(220, 220, 240)
TimeLabel.TextSize = 12
TimeLabel.Font = Enum.Font.Gotham
TimeLabel.TextXAlignment = Enum.TextXAlignment.Left
TimeLabel.Parent = TimeFrame

local TimeRangeLabel = Instance.new("TextLabel")
TimeRangeLabel.Name = "TimeRangeLabel"
TimeRangeLabel.Size = UDim2.new(1, -20, 0, 15)
TimeRangeLabel.Position = UDim2.new(0, 10, 0, 40)
TimeRangeLabel.BackgroundTransparency = 1
TimeRangeLabel.Text = "30s - 600s (30s ƒë·∫øn 10 ph√∫t)"
TimeRangeLabel.TextColor3 = Color3.fromRGB(180, 180, 220)
TimeRangeLabel.TextSize = 10
TimeRangeLabel.Font = Enum.Font.Gotham
TimeRangeLabel.TextXAlignment = Enum.TextXAlignment.Left
TimeRangeLabel.Parent = TimeFrame

local InfoPopup = Instance.new("Frame")
InfoPopup.Name = "InfoPopup"
InfoPopup.Size = UDim2.new(0, 350, 0, 320)
InfoPopup.Position = UDim2.new(0.5, -175, 0.5, -160)
InfoPopup.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
InfoPopup.BackgroundTransparency = 0.1
InfoPopup.BorderSizePixel = 0
InfoPopup.ClipsDescendants = true
InfoPopup.Visible = false
InfoPopup.ZIndex = 100
InfoPopup.Parent = ScreenGui

local InfoPopupCorner = Instance.new("UICorner")
InfoPopupCorner.CornerRadius = UDim.new(0, 10)
InfoPopupCorner.Parent = InfoPopup

local InfoPopupStroke = Instance.new("UIStroke")
InfoPopupStroke.Color = Color3.fromRGB(70, 130, 200)
InfoPopupStroke.Thickness = 2
InfoPopupStroke.Parent = InfoPopup

local InfoPopupTitleFrame = Instance.new("Frame")
InfoPopupTitleFrame.Name = "InfoPopupTitleFrame"
InfoPopupTitleFrame.Size = UDim2.new(1, 0, 0, 40)
InfoPopupTitleFrame.BackgroundTransparency = 1
InfoPopupTitleFrame.ZIndex = 101
InfoPopupTitleFrame.Parent = InfoPopup

local InfoPopupTitle = Instance.new("TextLabel")
InfoPopupTitle.Name = "InfoPopupTitle"
InfoPopupTitle.Size = UDim2.new(1, -40, 1, 0)
InfoPopupTitle.Position = UDim2.new(0, 10, 0, 0)
InfoPopupTitle.BackgroundTransparency = 1
InfoPopupTitle.Text = "üìö TH√îNG TIN"
InfoPopupTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
InfoPopupTitle.TextSize = 16
InfoPopupTitle.Font = Enum.Font.GothamBold
InfoPopupTitle.TextXAlignment = Enum.TextXAlignment.Left
InfoPopupTitle.ZIndex = 101
InfoPopupTitle.Parent = InfoPopupTitleFrame

local InfoPopupClose = Instance.new("TextButton")
InfoPopupClose.Name = "InfoPopupClose"
InfoPopupClose.Size = UDim2.new(0, 25, 0, 25)
InfoPopupClose.Position = UDim2.new(1, -30, 0, 7)
InfoPopupClose.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
InfoPopupClose.BorderSizePixel = 0
InfoPopupClose.Text = "√ó"
InfoPopupClose.TextColor3 = Color3.fromRGB(255, 255, 255)
InfoPopupClose.TextSize = 16
InfoPopupClose.Font = Enum.Font.GothamBold
InfoPopupClose.ZIndex = 101
InfoPopupClose.Parent = InfoPopupTitleFrame

local InfoPopupCloseCorner = Instance.new("UICorner")
InfoPopupCloseCorner.CornerRadius = UDim.new(0, 6)
InfoPopupCloseCorner.Parent = InfoPopupClose

local InfoPopupContent = Instance.new("ScrollingFrame")
InfoPopupContent.Name = "InfoPopupContent"
InfoPopupContent.Size = UDim2.new(1, -20, 1, -50)
InfoPopupContent.Position = UDim2.new(0, 10, 0, 50)
InfoPopupContent.BackgroundTransparency = 1
InfoPopupContent.BorderSizePixel = 0
InfoPopupContent.ScrollBarThickness = 6
InfoPopupContent.ZIndex = 101
InfoPopupContent.Parent = InfoPopup

local InfoPopupLayout = Instance.new("UIListLayout")
InfoPopupLayout.Padding = UDim.new(0, 8)
InfoPopupLayout.Parent = InfoPopupContent

local function HybridMethod()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton2(Vector2.new())
	
	local character = Player.Character
	if character and character:FindFirstChild("Humanoid") then
		character.Humanoid.Jump = true
		
		local randomDirection = Vector3.new(
			math.random(-1, 1),
			0,
			math.random(-1, 1)
		).Unit
		
		spawn(function()
			character.Humanoid:Move(randomDirection)
			wait(0.5)
			character.Humanoid:Move(Vector3.zero)
		end)
	end
end

local function NewMethod()
	local character = Player.Character
	if character and character:FindFirstChild("Humanoid") then
		character.Humanoid.Jump = true
		
		local randomDirection = Vector3.new(
			math.random(-1, 1),
			0,
			math.random(-1, 1)
		).Unit
		
		spawn(function()
			character.Humanoid:Move(randomDirection)
			wait(1)
			character.Humanoid:Move(Vector3.zero)
		end)
	end
end

local function OldMethod()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton2(Vector2.new())
end

local function SelectMethod(method)
	CurrentMethod = method
	
	HybridButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
	NewMethodButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
	OldMethodButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
	
	HybridButton.TextColor3 = Color3.fromRGB(220, 220, 240)
	NewMethodButton.TextColor3 = Color3.fromRGB(220, 220, 240)
	OldMethodButton.TextColor3 = Color3.fromRGB(220, 220, 240)
	
	if method == "Hybrid" then
		HybridButton.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
		HybridButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	elseif method == "New" then
		NewMethodButton.BackgroundColor3 = Color3.fromRGB(70, 200, 130)
		NewMethodButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	elseif method == "Old" then
		OldMethodButton.BackgroundColor3 = Color3.fromRGB(200, 130, 70)
		OldMethodButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	end
	
	print("ƒê√£ ch·ªçn ph∆∞∆°ng ph√°p: " .. method)
end

local function ToggleAntiAFK()
	AFKEnabled = not AFKEnabled
	
	if AFKEnabled then
		StatusIndicator.BackgroundColor3 = Color3.fromRGB(70, 200, 130)
		StatusText.Text = "TR·∫†NG TH√ÅI: B·∫¨T"
		ToggleButton.Text = "‚è∏ T·∫ÆT ANTI-AFK"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 70, 70)
		
		LastActivity = os.time()
		
		if AFKConnection then
			AFKConnection:Disconnect()
		end
		
		AFKConnection = RunService.Heartbeat:Connect(function(deltaTime)
			local currentTime = os.time()
			
			if UserInputService:GetMouseDelta().Magnitude > 0 then
				LastActivity = currentTime
				Moving = false
			end
			
			local AFKTime = currentTime - LastActivity
			
			if AFKTime >= MaxAFKTime then
				if not Moving then
					Moving = true
					
					if CurrentMethod == "Hybrid" then
						HybridMethod()
					elseif CurrentMethod == "New" then
						NewMethod()
					elseif CurrentMethod == "Old" then
						OldMethod()
					end
					
					LastActivity = os.time()
					print("ƒê√£ k√≠ch ho·∫°t ch·ªëng AFK: " .. CurrentMethod)
				end
			else
				Moving = false
			end
		end)
		
	else
		StatusIndicator.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
		StatusText.Text = "TR·∫†NG TH√ÅI: T·∫ÆT"
		ToggleButton.Text = "‚ñ∂ B·∫¨T ANTI-AFK"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
		
		if AFKConnection then
			AFKConnection:Disconnect()
			AFKConnection = nil
		end
		
		print("ƒê√£ t·∫Øt h·ªá th·ªëng ch·ªëng AFK")
	end
end

local function UpdateMaxTime(newTime)
	MaxAFKTime = math.clamp(newTime, 30, 600)
	TimeInput.Text = tostring(MaxAFKTime)
end

local function SetupDragging(frame, dragFrame)
	local dragging = false
	local dragInput
	local dragStart
	local startPos
	
	local function update(input)
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
	
	dragFrame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = frame.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	
	dragFrame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end
	end)
end

local function CreateInfoSection(title, content, color)
	local sectionFrame = Instance.new("Frame")
	sectionFrame.Name = title .. "Section"
	sectionFrame.Size = UDim2.new(1, 0, 0, 0)
	sectionFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
	sectionFrame.BorderSizePixel = 0
	sectionFrame.BackgroundTransparency = 0
	sectionFrame.ZIndex = 101
	
	local sectionCorner = Instance.new("UICorner")
	sectionCorner.CornerRadius = UDim.new(0, 6)
	sectionCorner.Parent = sectionFrame
	
	local sectionTitle = Instance.new("TextLabel")
	sectionTitle.Name = "SectionTitle"
	sectionTitle.Size = UDim2.new(1, -20, 0, 25)
	sectionTitle.Position = UDim2.new(0, 10, 0, 0)
	sectionTitle.BackgroundTransparency = 1
	sectionTitle.Text = "üîπ " .. title
	sectionTitle.TextColor3 = color
	sectionTitle.TextSize = 14
	sectionTitle.Font = Enum.Font.GothamBold
	sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
	sectionTitle.ZIndex = 102
	sectionTitle.Parent = sectionFrame
	
	local sectionContent = Instance.new("TextLabel")
	sectionContent.Name = "SectionContent"
	sectionContent.Size = UDim2.new(1, -20, 0, 0)
	sectionContent.Position = UDim2.new(0, 10, 0, 30)
	sectionContent.BackgroundTransparency = 1
	sectionContent.Text = content
	sectionContent.TextColor3 = Color3.fromRGB(220, 220, 240)
	sectionContent.TextSize = 12
	sectionContent.Font = Enum.Font.Gotham
	sectionContent.TextXAlignment = Enum.TextXAlignment.Left
	sectionContent.TextYAlignment = Enum.TextYAlignment.Top
	sectionContent.TextWrapped = true
	sectionContent.ZIndex = 102
	sectionContent.Parent = sectionFrame
	
	local function updateSize()
		local textHeight = sectionContent.TextBounds.Y
		sectionContent.Size = UDim2.new(1, -20, 0, textHeight)
		sectionFrame.Size = UDim2.new(1, 0, 0, textHeight + 40)
	end
	
	sectionContent:GetPropertyChangedSignal("TextBounds"):Connect(updateSize)
	updateSize()
	
	return sectionFrame
end

local function ShowInfoPopup()
	if InfoVisible then return end
	
	InfoVisible = true
	InfoPopup.Visible = true
	MainFrame.Visible = false
	
	while #InfoPopupContent:GetChildren() > 1 do
		InfoPopupContent:GetChildren()[#InfoPopupContent:GetChildren()]:Destroy()
	end
	
	local hybridInfo = CreateInfoSection(
		"HYBRID",
		"‚Ä¢ K·∫øt h·ª£p c·∫£ hai ph∆∞∆°ng ph√°p\n‚Ä¢ Click chu·ªôt ·∫£o + Di chuy·ªÉn nh√¢n v·∫≠t\n‚Ä¢ An to√†n nh·∫•t, hi·ªáu qu·∫£ 99%\n‚Ä¢ D√πng khi ch∆°i game th√¥ng th∆∞·ªùng",
		Color3.fromRGB(70, 130, 200)
	)
	hybridInfo.Parent = InfoPopupContent
	
	local newInfo = CreateInfoSection(
		"M·ªöI",
		"‚Ä¢ Ch·ªâ di chuy·ªÉn nh√¢n v·∫≠t\n‚Ä¢ Nh·∫£y + di chuy·ªÉn ng·∫´u nhi√™n\n‚Ä¢ √çt b·ªã anti-cheat ph√°t hi·ªán\n‚Ä¢ D√πng khi game c√≥ anti-cheat m·∫°nh",
		Color3.fromRGB(70, 200, 130)
	)
	newInfo.Parent = InfoPopupContent
	
	local oldInfo = CreateInfoSection(
		"C≈®",
		"‚Ä¢ Ch·ªâ click chu·ªôt ·∫£o\n‚Ä¢ VirtualUser:ClickButton2()\n‚Ä¢ Hi·ªáu qu·∫£ 100% v·ªõi Roblox\n‚Ä¢ D·ªÖ b·ªã anti-cheat ph√°t hi·ªán",
		Color3.fromRGB(200, 130, 70)
	)
	oldInfo.Parent = InfoPopupContent
	
	local totalHeight = 0
	for _, child in pairs(InfoPopupContent:GetChildren()) do
		if child:IsA("Frame") then
			totalHeight = totalHeight + child.Size.Y.Offset + 8
		end
	end
	
	InfoPopupContent.CanvasSize = UDim2.new(0, 0, 0, totalHeight + 20)
end

local function HideInfoPopup()
	InfoVisible = false
	InfoPopup.Visible = false
	MainFrame.Visible = true
end

CloseButton.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

ToggleButton.MouseButton1Click:Connect(function()
	ToggleAntiAFK()
end)

HybridButton.MouseButton1Click:Connect(function()
	SelectMethod("Hybrid")
end)

NewMethodButton.MouseButton1Click:Connect(function()
	SelectMethod("New")
end)

OldMethodButton.MouseButton1Click:Connect(function()
	SelectMethod("Old")
end)

MiniInfoButton.MouseButton1Click:Connect(function()
	ShowInfoPopup()
end)

InfoPopupClose.MouseButton1Click:Connect(function()
	HideInfoPopup()
end)

TimeInput.FocusLost:Connect(function(enterPressed)
	local newTime = tonumber(TimeInput.Text)
	if newTime then
		UpdateMaxTime(newTime)
	else
		TimeInput.Text = tostring(MaxAFKTime)
	end
end)

UpdateMaxTime(MaxAFKTime)
SelectMethod("Hybrid")

MainFrame.Parent = ScreenGui

SetupDragging(MainFrame, TitleFrame)
SetupDragging(InfoPopup, InfoPopupTitleFrame)

UserInputService.InputBegan:Connect(function(input)
	if AFKEnabled then
		LastActivity = os.time()
	end
end)

print("=========================================")
print("     ANTI-AFK SYSTEM ƒê√É KH·ªûI ƒê·ªòNG")
print("=========================================")
print("Ph∆∞∆°ng ph√°p m·∫∑c ƒë·ªãnh: Hybrid")
print("Th·ªùi gian ch·ªù: " .. MaxAFKTime .. " gi√¢y")
print("Nh·∫•n n√∫t ? ƒë·ªÉ xem th√¥ng tin chi ti·∫øt")
print("=========================================")
